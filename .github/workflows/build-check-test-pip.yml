name: Build Check Last Pip Working

on:
  workflow_dispatch:

jobs:
  build-check:
    runs-on: ubuntu-latest

    strategy:
      fail-fast: false
      matrix:
        python-version: ['3.9'] #, "3.10", "3.11","3.12","3.13"]
        pip-version: [23.2.1, '23.3', 23.3.1, 23.3.2, '24.0', '24.1', 24.1.1, 24.1.2, '24.2', '24.3', 24.3.1, '25.0', 25.0.1]

    name: Check Build ${{ matrix.python-version }} [PIP ${{ matrix.pip-version }}]

    steps:
    - name: Checkout Repo
      uses: actions/checkout@v4
      with:
        persist-credentials: false

    - name: Setup Python ${{ matrix.python-version }}
      uses: actions/setup-python@v5
      with:
        python-version: ${{ matrix.python-version }}

    - name: Upgrade Pip
      run: |
        python -m pip install pip==${{ matrix.pip-version }}

    - name: Install Tools (Wheel, Setuptools)
      run: |
        python -m pip install wheel setuptools

    - name: Debug Versions
      run: |
        python -m pip -V
        python -m pip list

    - name: Build & Install Repo
      run: |
        python -m pip install .
