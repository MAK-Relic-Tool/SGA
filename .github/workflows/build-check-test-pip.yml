name: Build Check Last Pip Working

on:
  workflow_dispatch:

jobs:
  build-check:
    runs-on: ubuntu-latest

    strategy:
      fail-fast: false
      matrix:
        python-version: ['3.9'] #, "3.10", "3.11","3.12","3.13"]
        pip-version: [25.0.1]

    name: Check Build ${{ matrix.python-version }} [PIP ${{ matrix.pip-version }}]

    steps:
    - name: Checkout Repo
      uses: actions/checkout@v4
      with:
        persist-credentials: false

    - name: Setup Python ${{ matrix.python-version }}
      uses: actions/setup-python@v5
      with:
        python-version: ${{ matrix.python-version }}

    - name: Upgrade Pip
      run: |
        python -m pip install pip==${{ matrix.pip-version }}

    - name: Install Tools (Wheel, Setuptools)
      run: |
        python -m pip install wheel setuptools --upgrade

    - name: Debug Versions
      run: |
        python -m pip -V
        python -m pip list

    - name: Build & Install Repo
      run: |
        python -m pip install . --verbose
